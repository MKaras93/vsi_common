#!/usr/bin/env bash

. "$(dirname ${BASH_SOURCE[0]})/testlib.sh"

setup()
{
  track_touched_files
}

begin_test "No ttouch files"
(
  set -eu
)
end_test

begin_test "Ttouch files"
{
  set -eu
  ttouch "${TESTDIR}/test1"
}
end_test

begin_test "Ttouch files in subshell"
(
  set -eu
  ttouch "${TESTDIR}/test2"
  ttouch "${TESTDIR}/test3"
  ttouch "${TESTDIR}/test4"
)
end_test

teardown()
{
  set -eu
  [ ! -e "${TESTDIR}/test1" ]
  [ ! -e "${TESTDIR}/test2" ]
  [ ! -e "${TESTDIR}/test3" ]
  [ ! -e "${TESTDIR}/test4" ]
}